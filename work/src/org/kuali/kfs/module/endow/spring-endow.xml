<?xml version="1.0" encoding="UTF-8"?>
<!--
 Copyright 2005-2007 The Kuali Foundation.
 
 Licensed under the Educational Community License, Version 1.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
 
 http://www.opensource.org/licenses/ecl1.php
 
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
                           http://www.springframework.org/schema/tx
                           http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
                           http://www.springframework.org/schema/aop
                           http://www.springframework.org/schema/aop/spring-aop-2.0.xsd">  
   <bean id="endowModuleConfiguration" parent="endowModuleConfiguration-parentBean" />
                        
    <bean id="endowModuleConfiguration-parentBean" class= "org.kuali.kfs.sys.FinancialSystemModuleConfiguration" abstract="true">
            <property name="namespaceCode" value="KFS-ENDOW" />
        <property name="initializeDataDictionary" value="true" />
        <property name="packagePrefixes">
            <list>
                <value>org.kuali.kfs.module.endow</value>
            </list>
        </property>
        <property name="dataDictionaryPackages">
            <list>
                <value>org/kuali/kfs/module/endow/businessobject/datadictionary</value>
                <value>org/kuali/kfs/module/endow/document/datadictionary</value>
           </list>
        </property>
        <property name="databaseRepositoryFilePaths">
            <list>
                <value>org/kuali/kfs/module/endow/ojb-endow.xml</value>
            </list>
        </property>
        <property name="scriptConfigurationFilePaths">
            <list>
                <value>org/kuali/kfs/module/endow/dwr-endow.xml</value>
            </list>
        </property>
        <property name="triggerNames">
            <list>
            </list>
        </property>
        <property name="jobNames">
            <list>
				<value>availableCashUpdatesJob</value>
				<value>currentTaxLotBalancesUpdateJob</value>
                <value>endowmenteDocPostingJob</value>
				<value>createAccrualTransactionsJob</value>			
				<value>rollProcessDateJob</value>	
				<value>updateHistoryCashJob</value>
				<value>updateHoldingHistoryJob</value>
                <value>rollFrequencyDatesJob</value> 
				<value>accrualProcessingJob</value>
				<value>holdingHisgtoryMarketValueUpdateJob</value>
				<value>pooledFundControlTransactionsJob</value>
                <value>createCashSweepTransactionsJob</value>
                <value>createAutomatedCashInvestmentTransactionsJob</value>
                <value>createGainLossTransactionsJob</value>
                <value>createIncomeDistributionJob</value>
                <value>createRecurringCashTransferTransactionsJob</value>
                <value>processFeeTransactionsJob</value>
                <value>updateCorpusJob</value>               
            </list>
        </property>
        <property name="batchFileDirectories">
          	<list>
            	<value>${reports.directory}/endow</value>
         	</list>
        </property>
    </bean>
    <bean id="endowModuleService" parent="endowModuleService-parentBean"/>
 
    <bean id="endowModuleService-parentBean" class= "org.kuali.kfs.sys.service.impl.KfsModuleServiceImpl" abstract="true">
            <property name="moduleConfiguration" ref="endowModuleConfiguration" />
    </bean>
 
 	<!--  begin core batch jobs -->
 	<bean id="availableCashUpdatesJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="avilableCashUpdateStep" />
			</list>
		</property>
		<property name="dependencies">
            <map>
                <entry key="endowmenteDocPostingJob" value="hardDependency" />
                <entry key="createAccrualTransactionsJob" value="hardDependency" />
                <entry key="pooledFundControlTransactionsJob" value="hardDependency" />
                <entry key="createCashSweepTransactionsJob" value="hardDependency" />
                <entry key="createAutomatedCashInvestmentTransactionsJob" value="hardDependency" />
                <entry key="createGainLossTransactionsJob" value="hardDependency" />
                <entry key="createRecurringCashTransferTransactionsJob" value="hardDependency" />
                <entry key="currentTaxLotBalancesUpdateJob" value="hardDependency" />
            </map>
        </property>
	</bean>
	<bean id="avilableCashUpdateStep" class="org.kuali.kfs.module.endow.batch.AvailableCashUpdateStep" parent="step">
		<property name="availableCashUpdateService">
			<ref bean="availableCashUpdateService" />
		</property>
	</bean>
	
	<bean id="availableCashUpdateService" class="org.kuali.kfs.module.endow.batch.service.impl.AvailableCashUpdateServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
    	<property name="parameterService">
    	 <ref bean="parameterService" />
		</property>		
		<property name="dateTimeService">
			<ref bean="dateTimeService" />
		</property>
		<property name="kemidCurrentCashOpenRecordsService">
			<ref bean="kemidCurrentCashOpenRecordsService" />
		</property>
		<property name="holdingTaxLotService">
			<ref bean="holdingTaxLotService" />
		</property>
		<property name="typeRestrictionCodeService">
			<ref bean="typeRestrictionCodeService" />
		</property>
		<property name="kEMIDService">
			<ref bean="KEMIDService" />
		</property>		
	</bean>
 	<bean id="createAccrualTransactionsJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="createAccrualTransactionsStep" />
			</list>
		</property>
	</bean>	
	<bean id="createAccrualTransactionsStep" class="org.kuali.kfs.module.endow.batch.CreateAccrualTransactionsStep" parent="wrappedStep">
		<property name="wrappingBatchServices">
			<list>
				<ref bean="accrualTransactionsExceptionReportWriterService" />
				<ref bean="accrualTransactionsTotalReportWriterService" />
			</list>
		</property>
		<property name="createAccrualTransactionsService">
			<ref bean="createAccrualTransactionsService" />
		</property>
		<property name="batchFileDirectoryName" value="${reports.directory}/endow"/>
	</bean>
	
	<bean id="createAccrualTransactionsService" class="org.kuali.kfs.module.endow.batch.service.impl.CreateAccrualTransactionsServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
		<property name="kemService">
			<ref bean="kemService" />
		</property>
		<property name="holdingTaxLotService">
			<ref bean="holdingTaxLotService" />
		</property>
		<property name="securityDao">
			<ref bean="securityDao" />
		</property>
		<property name="documentService">
			<ref bean="documentService" />
		</property>
		<property name="configService">
			<ref bean="kualiConfigurationService" />
		</property>
		<property name="kualiRuleService">
			<ref bean="kualiRuleService" />
		</property>
		<property name="parameterService">
			<ref bean="parameterService" />
		</property>
	    <property name="accrualTransactionsExceptionReportWriterService">
			<ref bean="accrualTransactionsExceptionReportWriterService" />
		</property>
		<property name="accrualTransactionsTotalReportWriterService">
			<ref bean="accrualTransactionsTotalReportWriterService" />
		</property>
	</bean>
	
    <bean id="accrualTransactionsExceptionReportWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="accrualTransactionsExceptionReport_"/>
        <property name="title" value="CREATE ACCRUAL TRANSACTIONS JOB EXCEPTION REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
        	<map>
        		<entry key="org.kuali.kfs.module.endow.businessobject.EndowmentExceptionReportHeader" value="accrualTransactionsExceptionReportHeader"/>
        		<entry key="org.kuali.kfs.module.endow.businessobject.TransactionDocumentExceptionReportLine" value="transactionDocumentExceptionReportLineHelper"/>
         	</map>
       	</property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
    
    <bean id="accrualTransactionsTotalReportWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="accrualTransactionsTotalReport_"/>
        <property name="title" value="CREATE ACCRUAL TRANSACTIONS JOB TOTALS PROCESSED REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
        	<map>
         		<entry key="org.kuali.kfs.module.endow.businessobject.TransactionDocumentTotalReportLine" value="transactionDocumentTotalReportLineHelper"/>
        	</map>
       	</property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
    
    <bean id="transactionDocumentExceptionReportLineHelper" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.TransactionDocumentExceptionReportLine" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="documentType" value="DOC TYPE" />
    			<entry key="documentId" value="DOC ID"/>
    			<entry key="securityId" value="SEC ID"/>
    			<entry key="kemid" value="KEMID"/>
    			<entry key="incomeAmount" value="INCOME AMT" />
    			<entry key="incomeUnits" value="INCOME UNITS"/>
    			<entry key="principalAmount" value="PRINCIPAL AMT" />
    			<entry key="principalUnits" value="PRINCIPAL UNITS"/>    			
    		</map>
	    </property>
	    <property name="columnCount" value="8" />
	</bean>
	
    <bean id="transactionDocumentTotalReportLineHelper" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.TransactionDocumentTotalReportLine" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="documentType" value="DOC TYPE" />
    			<entry key="documentId" value="DOC ID"/>
    			<entry key="securityId" value="SEC ID"/>
    			<entry key="totalNumberOfTransactionLines" value="TOT TRAN LN"/>
    			<entry key="incomeAmount" value="INCOME AMT" />
    			<entry key="incomeUnits" value="INCOME UNITS"/>
    			<entry key="principalAmount" value="PRINCIPAL AMT" />
    			<entry key="principalUnits" value="PRINCIPAL UNITS"/>    			
    		</map>
	    </property>
	    <property name="columnCount" value="8" />
	</bean>
	
	<bean id="securityDao" parent="platformAwareDao" class="org.kuali.kfs.module.endow.dataaccess.impl.SecurityDaoOjb">
		<property name="kemService">
			<ref bean="kemService"/>
		</property>	
	</bean>
	
 	<bean id="typeRestrictionCodeService" parent="typeRestrictionCodeService-parentBean"/>

 	<bean id="typeRestrictionCodeService-parentBean" class="org.kuali.kfs.module.endow.document.service.impl.TypeRestrictionCodeServiceImpl">
 		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
 	</bean>
    
    <bean id="endowmenteDocPostingJob" parent="scheduledJobDescriptor">
        <property name="steps">
            <list>
                <ref bean="endowmenteDocPostingStep" />
            </list>
        </property>
    </bean>
    
    <bean id="endowmenteDocPostingStep" class="org.kuali.kfs.module.endow.batch.EndowmenteDocPostingStep" parent="wrappedStep">
        <property name="wrappingBatchServices">
            <list>
                <ref bean="eDocPostingExceptionReportWriterService" />
                <ref bean="eDocPostingProcessedReportWriterService" />
            </list>
        </property>
        <property name="endowmenteDocPostingService">
            <ref bean="endowmenteDocPostingService" />
        </property>
    </bean>
    
    <bean id="endowmenteDocPostingService" class="org.kuali.kfs.module.endow.batch.service.impl.EndowmenteDocPostingServiceImpl">
        <property name="pendingTransactionDocumentService">
            <ref bean="pendingTransactionDocumentService" />
        </property>
        <property name="dataDictionaryService">
            <ref bean="dataDictionaryService" />
        </property>
        <property name="businessObjectService">
            <ref bean="businessObjectService" />
        </property>
        <property name="kemService">
            <ref bean="kemService" />
        </property>
        <property name="eDocPostingExceptionReportWriterService">
            <ref bean="eDocPostingExceptionReportWriterService" />
        </property>
        <property name="eDocPostingProcessedReportWriterService">
            <ref bean="eDocPostingProcessedReportWriterService" />
        </property>
    </bean>
    <bean id="eDocPostingExceptionReportWriterService" parent="reportWriterService">
        <property name="filePath" value="${reports.directory}/endow"/>
        <property name="fileNamePrefix" value="endowmenteDocPostingExceptionReport"/>
        <property name="title" value="PROCESS eDOC POSTING JOB EXCEPTION REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
            <map>
                <entry key="org.kuali.kfs.module.endow.businessobject.TransactioneDocPostingDocumentExceptionReportLine" value="eDocPostingExceptionReportHeader"/>
            </map>
        </property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
        <bean id="eDocPostingProcessedReportWriterService" parent="reportWriterService">
        <property name="filePath" value="${reports.directory}/endow"/>
        <property name="fileNamePrefix" value="endowmenteDocPostingProcessedReport"/>
        <property name="title" value="PROCESS eDOC POSTING JOB PROCESSED REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
            <map>
                <entry key="org.kuali.kfs.module.endow.businessobject.TransactioneDocPostingDocumentTotalReportLine" value="eDocPostingProcessedReportHeader"/>
            </map>
        </property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
    
    <bean id="pendingTransactionDocumentService" class="org.kuali.kfs.module.endow.document.service.impl.PendingTransactionDocumentServiceImpl">
        <property name="dataDictionaryService">
            <ref bean="dataDictionaryService" />
        </property>
        <property name="businessObjectService">
            <ref bean="businessObjectService" />
        </property>
    </bean>
    
 	<bean id="currentTaxLotBalancesUpdateJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="currentTaxLotBalanceUpdateStep" />
			</list>
		</property>
		<property name="dependencies">
            <map>
                <entry key="endowmenteDocPostingJob" value="hardDependency" />
                <entry key="createAccrualTransactionsJob" value="hardDependency" />
                <entry key="pooledFundControlTransactionsJob" value="hardDependency" />
                <entry key="createCashSweepTransactionsJob" value="hardDependency" />
                <entry key="createAutomatedCashInvestmentTransactionsJob" value="hardDependency" />
                <entry key="createGainLossTransactionsJob" value="hardDependency" />
                <entry key="createRecurringCashTransferTransactionsJob" value="hardDependency" />
                <entry key="currentTaxLotBalancesUpdateJob" value="hardDependency" />
                <entry key="holdingHisgtoryMarketValueUpdateJob" value="hardDependency" />
            </map>
        </property>
	</bean>
    
	<bean id="currentTaxLotBalanceUpdateStep" class="org.kuali.kfs.module.endow.batch.CurrentTaxLotBalanceUpdateStep" parent="step">
		<property name="currentTaxLotBalanceUpdateService">
			<ref bean="currentTaxLotBalanceUpdateService" />
		</property>
	</bean>
	
	<bean id="currentTaxLotBalanceUpdateService" class="org.kuali.kfs.module.endow.batch.service.impl.CurrentTaxLotBalanceUpdateServiceImpl">
    	<property name="parameterService">
    	 <ref bean="parameterService" />
		</property>		
		<property name="holdingTaxLotService">
			<ref bean="holdingTaxLotService" />
		</property>
		<property name="currentTaxLotService">
			<ref bean="currentTaxLotService" />
		</property>		
	</bean>
  	<bean id="currentTaxLotService" parent="currentTaxLotService-parentBean"/>
 
 	<bean id="currentTaxLotService-parentBean" class="org.kuali.kfs.module.endow.document.service.impl.CurrentTaxLotServiceImpl">
 		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
 		<property name="securityService">
			<ref bean="securityService" />
		</property>
 		<property name="kEMService">
			<ref bean="kemService" />
		</property>
	    <property name="currentTaxLotBalanceDao">
			<ref bean="currentTaxLotBalanceDao" />
		</property>
		<property name="calculateProcessDateUsingFrequencyCodeService">
			<ref bean="calculateProcessDateUsingFrequencyCodeService" />
		</property>
		<property name="transactionArchiveDao">
			<ref bean="transactionArchiveDao" />
		</property>
 	</bean>
 	
 	<bean id="createGainLossTransactionsJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="createGainLossTransactionsStep" />
			</list>
		</property>
	</bean>
	<bean id="createGainLossTransactionsStep" class="org.kuali.kfs.module.endow.batch.CreateGainLossDistributionTransactionsStep" parent="wrappedStep">
		<property name="wrappingBatchServices">
			<list>
				<ref bean="gainLossDistributionExceptionReportWriterService" />
				<ref bean="gainLossDistributionTotalsReportWriterService" />
			</list>
		</property>
		<property name="createGainLossTransactionsService">
			<ref bean="createGainLossTransactionsService" />
		</property>
		<property name="batchFileDirectoryName" value="${reports.directory}/endow"/>	
	</bean>
	
	<bean id="createGainLossTransactionsService" class="org.kuali.kfs.module.endow.batch.service.impl.CreateGainLossDistributionTransactionsServiceImpl">
		<property name="pooledFundValueService">
			<ref bean="pooledFundValueService" />
		</property>
    	<property name="holdingTaxLotService">
    	 <ref bean="holdingTaxLotService" />
		</property>		
		<property name="documentService">
			<ref bean="documentService" />
		</property>
		<property name="parameterService">
			<ref bean="parameterService" />
		</property>
		<property name="configService">
			<ref bean="kualiConfigurationService" />
		</property>
		<property name="kualiRuleService">
			<ref bean="kualiRuleService" />
		</property>
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>	
		<property name="updateHoldingAdjustmentDocumentTaxLotsService">
			<ref bean="updateHoldingAdjustmentDocumentService" />
		</property>	
		<property name="kemService">
			<ref bean="kemService" />
		</property>	
			
		<property name="gainLossDistributionExceptionReportWriterService">
			<ref bean="gainLossDistributionExceptionReportWriterService" />
		</property>		
		<property name="gainLossDistributionTotalsReportWriterService">
			<ref bean="gainLossDistributionTotalsReportWriterService" />
		</property>	
		
	</bean>
	
	<bean id="gainLossDistributionExceptionReportWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="gainLossDistributionExceptionReport_"/>
        <property name="title" value="DISTRIBUTION OF GAINS AND LOSSES JOB EXCEPTION REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
        	<map>
        		<entry key="org.kuali.kfs.module.endow.businessobject.TransactionDocumentExceptionReportLine" value="gainLossDistributionExceptionReportHeader"/>
        	</map>
       	</property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
    
    <bean id="gainLossDistributionTotalsReportWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="gainLossDistributionTotals_"/>
        <property name="title" value="DISTRIBUTION OF GAINS AND LOSSES JOB TOTALS REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
        	<map>
        		<entry key="org.kuali.kfs.module.endow.businessobject.GainLossDistributionTotalReportLine" value="gainLossDistributionTotalsReportLineHelper"/>
        	</map>
       	</property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
    
    <bean id="gainLossDistributionTotalsReportLineHelper" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.GainLossDistributionTotalReportLine" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="documentType" value="DOC TYPE" />
    			<entry key="documentId" value="DOC ID"/>
    			<entry key="securityId" value="SEC ID"/>
    			<entry key="totalNumberOfTransactionLines" value="TOT TRAN LN"/>
    			<entry key="unitAdjustmentAmount" value="UNIT ADJUSTMENT AMT" />
    			<entry key="totalHoldingAdjustmentAmount" value="TOTAL HOLDING ADJUSTMENT AMT"/>  			
    		</map>
	    </property>
	    <property name="columnCount" value="6" />
	</bean>
 	
 	<bean id="rollProcessDateJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="rollProcessDateStep" />
			</list>
		</property>
	</bean>
	
	<bean id="rollProcessDateStep" class="org.kuali.kfs.module.endow.batch.RollProcessDateStep" parent="step">
		<property name="rollProcessDateService">
			<ref bean="rollProcessDateService" />
		</property>
	</bean>
	
	<bean id="rollProcessDateService" class="org.kuali.kfs.module.endow.batch.service.impl.RollProcessDateServiceImpl">
		<property name="kemService">
			<ref bean="kemService" />
		</property>	
		<property name="parameterService">
			<ref bean="parameterService" />
		</property>	
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>	
	</bean>
	
	<!--  updateHistoryCashJob -->	
	<bean id="updateHistoryCashJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="updateHistoryCashStep" />
			</list>
		</property>
	</bean>
	
	<bean id="updateHistoryCashStep" class="org.kuali.kfs.module.endow.batch.UpdateHistoryCashStep" parent="step">
		<property name="updateHistoryCashService">
			<ref bean="updateHistoryCashService" />
		</property>
	</bean>
	
	<bean id="updateHistoryCashService" class="org.kuali.kfs.module.endow.batch.service.impl.UpdateHistoryCashServiceImpl">
		<property name="kemService">
			<ref bean="kemService" />
		</property>	
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>	
		<property name="monthEndDateService">
			<ref bean="monthEndDateService" />
		</property>	
	</bean>
	
	<!--  updateHoldingHistoryJob -->
	<bean id="updateHoldingHistoryJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="updateHoldingHistoryStep" />
			</list>
		</property>
		<property name="dependencies">
            <map>
                <entry key="currentTaxLotBalancesUpdateJob" value="hardDependency" />
                <entry key="updateHistoryCashJob" value="hardDependency" />
            </map>
        </property>
	</bean>
	
	<bean id="updateHoldingHistoryStep" class="org.kuali.kfs.module.endow.batch.UpdateHoldingHistoryStep" parent="step">
		<property name="updateHoldingHistoryService">
			<ref bean="updateHoldingHistoryService" />
		</property>
	</bean>
	
	<bean id="updateHoldingHistoryService" class="org.kuali.kfs.module.endow.batch.service.impl.UpdateHoldingHistoryServiceImpl">
		<property name="kemService">
			<ref bean="kemService" />
		</property>	
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>	
		<property name="monthEndDateService">
			<ref bean="monthEndDateService" />
		</property>	
	</bean>
	
	<!-- rollFrequencyDatesJob -->
	<bean id="rollFrequencyDatesJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="rollFrequencyDatesStep" />
			</list>
		</property>
	</bean>
		
	<bean id="rollFrequencyDatesStep" class="org.kuali.kfs.module.endow.batch.RollFrequencyDatesStep" parent="wrappedStep">
		<property name="wrappingBatchServices">
			<list>
				<ref bean="rollFrequencyDatesReportWriterService" />				
			</list>
		</property>	
		<property name="rollFrequencyDatesService">
			<ref bean="rollFrequencyDatesService" />
		</property>
		<property name="batchFileDirectoryName" value="${reports.directory}/endow"/>		
	</bean>
	
	<bean id="rollFrequencyDatesService" class="org.kuali.kfs.module.endow.batch.service.impl.RollFrequencyDatesServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>		
		<property name="calculateProcessDateUsingFrequencyCodeService">
			<ref bean="calculateProcessDateUsingFrequencyCodeService" />
		</property>	
		<property name="rollFrequencyDatesReportWriterService">
			<ref bean="rollFrequencyDatesReportWriterService" />
		</property>
		<property name="securityDao">
			<ref bean="securityDao" />
		</property>	
		<property name="feeMethodDao">
			<ref bean="feeMethodDao" />
		</property>	
		<property name="ticklerDao">
			<ref bean="ticklerDao" />
		</property>	
		<property name="recurringCashTransferDao">
			<ref bean="recurringCashTransferDao" />
		</property>			
	</bean>	
	
    <bean id="rollFrequencyDatesReportWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="rollFrequencyDatesReport-"/>
        <property name="title" value="Roll Frequency Dates"/>
	</bean>
			
	<bean id="feeMethodDao" parent="platformAwareDao" class="org.kuali.kfs.module.endow.dataaccess.impl.FeeMethodDaoOjb">
		<property name="kemService">
			<ref bean="kemService"/>
		</property>	
	</bean>
	
	<bean id="ticklerDao" parent="platformAwareDao" class="org.kuali.kfs.module.endow.dataaccess.impl.TicklerDaoOjb">
		<property name="kemService">
			<ref bean="kemService"/>
		</property>	
	</bean>
	
	<bean id="recurringCashTransferDao" parent="platformAwareDao" class="org.kuali.kfs.module.endow.dataaccess.impl.RecurringCashTransferDaoOjb">
		<property name="kemService">
			<ref bean="kemService"/>
		</property>	
	</bean>
	
	<bean id="accrualProcessingJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="accrualProcessingStep" />
			</list>
		</property>
	</bean>
	
 	<bean id="accrualProcessingStep" class="org.kuali.kfs.module.endow.batch.AccrualProcessingStep" parent="wrappedStep">
		<property name="wrappingBatchServices">
			<list>
				<ref bean="accrualProcessingReportWriterService" />
			</list>
		</property>
		<property name="accrualProcessingService">
			<ref bean="accrualProcessingService" />
		</property>
		<property name="batchFileDirectoryName" value="${reports.directory}/endow"/>
	</bean>
	
	<bean id="accrualProcessingService" class="org.kuali.kfs.module.endow.batch.service.impl.AccrualProcessingServiceImpl">
		<property name="securityService">
			<ref bean="securityService" />
		</property>
		<property name="classCodeService">
			<ref bean="classCodeService" />
		</property>
		<property name="holdingTaxLotService">
			<ref bean="holdingTaxLotService" />
		</property>	
		<property name="kemService">
			<ref bean="kemService" />
		</property>	
	    <property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
		<property name="accrualProcessingReportWriterService">
			<ref bean="accrualProcessingReportWriterService" />
		</property>	
	</bean>		
	
	<bean id="accrualProcessingReportWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="accrualProcessingTotals_"/>
        <property name="title" value="ACCRUAL PROCESSING JOB TOTALS REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
        	<map>
        		<entry key="org.kuali.kfs.module.endow.businessobject.AccrualsProcessingTotalReportLine" value="accrualProcessingTotalsReportLineHelper"/>
        	</map>
       	</property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
    
    <bean id="accrualProcessingTotalsReportLineHelper" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.AccrualsProcessingTotalReportLine" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="accrualMethod" value="ACCRUAL METHOD" />
    			<entry key="securityId" value="SEC ID"/>
    			<entry key="recordsUpdated" value="RECORDS UPDATED"/>
    			<entry key="totalAccrualAmount" value="TOTAL ACCRUAL AMT" />		
    		</map>
	    </property>
	    <property name="columnCount" value="4" />
	</bean>	
		
	<!-- pooledFundControlTransactionsJob -->
	<bean id="pooledFundControlTransactionsJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="pooledFundControlTransactionsStep" />
			</list>
		</property>
		        <property name="dependencies">
            <map>
                <entry key="createCashSweepTransactionsJob" value="hardDependency" />
            </map>
        </property>
	</bean>
		
	<bean id="pooledFundControlTransactionsStep" class="org.kuali.kfs.module.endow.batch.PooledFundControlTransactionsStep" parent="wrappedStep">
		<property name="wrappingBatchServices">
			<list>
				<ref bean="pooledFundControlTransactionsTotalReportWriterService" />
				<ref bean="pooledFundControlTransactionsExceptionReportWriterService" />
			</list>
		</property>	
		<property name="pooledFundControlTransactionsService">
			<ref bean="pooledFundControlTransactionsService" />
		</property>
		<property name="batchFileDirectoryName" value="${reports.directory}/endow"/>
	</bean>
	
	<bean id="pooledFundControlTransactionsService" class="org.kuali.kfs.module.endow.batch.service.impl.PooledFundControlTransactionsServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>	
		<property name="documentService">
			<ref bean="documentService" />
		</property>	
		<property name="parameterService">
    	 	<ref bean="parameterService" />
		</property>
		<property name="kualiRuleService">
    	 	<ref bean="kualiRuleService" />
		</property>	
		<property name="pooledFundControlTransactionsTotalReportWriterService">
    	 	<ref bean="pooledFundControlTransactionsTotalReportWriterService" />
		</property>		
	    <property name="pooledFundControlTransactionsExceptionReportWriterService">
    	 	<ref bean="pooledFundControlTransactionsExceptionReportWriterService" />
		</property>
		<property name="pooledFundControlTransactionsDao">
			<ref bean="pooledFundControlTransactionsDao" />
		</property>			
	</bean>

	<bean id="pooledFundControlTransactionsTotalReportWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="pooledFundControlTransactionsTotalReport-"/>
        <property name="title" value="Pooled Fund Control Transactions"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
        	<map>
	        	<entry key="org.kuali.kfs.module.endow.businessobject.TransactionDocumentTotalReportLine" value="transactionDocumentTotalReportLineHelper"/>
        	</map>
        </property>
	</bean>
	
	<bean id="pooledFundControlTransactionsExceptionReportWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="pooledFundControlTransactionsExceptionReport-"/>
        <property name="title" value="Pooled Fund Control Transactions"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
        	<map>
	        	<entry key="org.kuali.kfs.module.endow.businessobject.TransactionDocumentExceptionReportLine" value="transactionDocumentExceptionReportLineHelper"/>
        	</map>
        </property>
	</bean>
	
	<bean id="pooledFundControlTransactionsDao" parent="platformAwareDao" class="org.kuali.kfs.module.endow.dataaccess.impl.PooledFundControlTransactionsDaoOjb">
		<property name="kemService">
			<ref bean="kemService"/>
		</property>	
	</bean>
	
	<!-- createIncomeDistributionJob -->
	<bean id="createIncomeDistributionJob" parent="unscheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="createIncomeDistributionStep" />
			</list>
		</property>
	</bean>
		
	<bean id="createIncomeDistributionStep" class="org.kuali.kfs.module.endow.batch.IncomeDistributionForPooledFundStep" parent="wrappedStep">
		<property name="wrappingBatchServices">
			<list>
				<ref bean="incomeDistributionForPooledFundTotalReportWriterService" />
				<ref bean="incomeDistributionForPooledFundExceptionReportWriterService" />
			</list>
		</property>		
		<property name="incomeDistributionForPooledFundService">
			<ref bean="incomeDistributionForPooledFundService" />
		</property>
		<property name="batchFileDirectoryName" value="${reports.directory}/endow"/>
	</bean>	
	
	<bean id="incomeDistributionForPooledFundService" class="org.kuali.kfs.module.endow.batch.service.impl.IncomeDistributionForPooledFundServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>	
		<property name="documentService">
			<ref bean="documentService" />
		</property>	
		<property name="parameterService">
    	 	<ref bean="parameterService" />
		</property>
		<property name="kualiRuleService">
    	 	<ref bean="kualiRuleService" />
		</property>	
		<property name="kemService">
			<ref bean="kemService"/>
		</property>			
		<property name="holdingTaxLotService">
    	 	<ref bean="holdingTaxLotService" />
		</property>	
		<property name="pooledFundValueService">
    	 	<ref bean="pooledFundValueService" />
		</property>		
	    <property name="incomeDistributionForPooledFundExceptionReportWriterService">
    	 	<ref bean="incomeDistributionForPooledFundExceptionReportWriterService" />
		</property>
		<property name="incomeDistributionForPooledFundTotalReportWriterService">
    	 	<ref bean="incomeDistributionForPooledFundTotalReportWriterService" />
		</property>						
		<property name="incomeDistributionForPooledFundDao">
			<ref bean="incomeDistributionForPooledFundDao" />
		</property>			
	</bean>

	<bean id="incomeDistributionForPooledFundExceptionReportWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="incomeDistributionForPooledFundException-"/>
        <property name="title" value="Income Distribution"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
        	<map>
	        	<entry key="org.kuali.kfs.module.endow.businessobject.TransactionDocumentExceptionReportLine" value="transactionDocumentExceptionReportLineHelper"/>
        	</map>
        </property>
	</bean>

	<bean id="incomeDistributionForPooledFundTotalReportWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="incomeDistributionForPooledFundTotal-"/>
        <property name="title" value="Income Distribution"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
        	<map>
	        	<entry key="org.kuali.kfs.module.endow.businessobject.TransactionDocumentTotalReportLine" value="transactionDocumentTotalReportLineHelper"/>
        	</map>
        </property>
	</bean>
	
	<bean id="incomeDistributionForPooledFundDao" parent="platformAwareDao" class="org.kuali.kfs.module.endow.dataaccess.impl.IncomeDistributionForPooledFundDaoOjb">
		<property name="kemService">
			<ref bean="kemService"/>
		</property>	
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>	
	</bean>
	
 	<bean id="holdingHisgtoryMarketValueUpdateJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="holdingHistoryMarketValuesStep" />
			</list>
		</property>
	</bean>
	<bean id="holdingHistoryMarketValuesStep" class="org.kuali.kfs.module.endow.batch.HoldingHistoryMarketValuesStep" parent="wrappedStep">
		<property name="wrappingBatchServices">
			<list>
				<ref bean="holdingHistoryMarketValuesExceptionReportWriterService" />
			</list>
		</property>
		<property name="holdingHistoryMarketValuesUpdateService">
			<ref bean="holdingHistoryMarketValuesUpdateService" />
		</property>
		<property name="batchFileDirectoryName" value="${reports.directory}/endow"/>		
	</bean>
    <bean id="holdingHistoryMarketValuesUpdateService" class="org.kuali.kfs.module.endow.batch.service.impl.HoldingHistoryMarketValuesUpdateServiceImpl">
        <property name="documentService">
            <ref bean="documentService" />
        </property>
        <property name="holdingHistoryService">
            <ref bean="holdingHistoryService"/>
        </property>
        <property name="holdingHistoryValueAdjustmentDocumentService">
            <ref bean="holdingHistoryValueAdjustmentDocumentService" />
        </property>
        <property name="holdingHistoryMarketValuesExceptionReportWriterService">
            <ref bean="holdingHistoryMarketValuesExceptionReportWriterService" />
        </property>     
    </bean>
    <bean id="holdingHistoryMarketValuesExceptionReportWriterService" parent="reportWriterService">
        <property name="filePath" value="${reports.directory}/endow"/>
        <property name="fileNamePrefix" value="holdingHistoryMarketValuesUpdatesException"/>
        <property name="title" value="HOLDING HISTORY MARKET VALUES UPDATE JOB EXCEPTION REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
            <map>
                <entry key="org.kuali.kfs.module.endow.businessobject.EndowmentExceptionReportHeader" value="holdingHistoryMarketValueExceptionReportHeader"/>
            </map>
        </property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
    
    <!-- Create Cash Sweep Transactions Job -->
    <bean id="createCashSweepTransactionsJob" parent="scheduledJobDescriptor">
        <property name="steps">
            <list>
                <ref bean="createCashSweepTransactionsStep" />
            </list>
        </property>
        <property name="dependencies">
            <map>
                <entry key="createAutomatedCashInvestmentTransactionsJob" value="hardDependency" />
            </map>
        </property>
    </bean>
    <bean id="createCashSweepTransactionsStep" class="org.kuali.kfs.module.endow.batch.CreateCashSweepTransactionsStep" parent="wrappedStep">
        <property name="wrappingBatchServices">
            <list>
                <ref bean="createCashSweepExceptionReportWriterService" />
                <ref bean="createCashSweepProcessedReportWriterService" />
            </list>
        </property>
        <property name="createCashSweepTransactionsService">
            <ref bean="createCashSweepTransactionsService" />
        </property>
    </bean>
    <bean id="createCashSweepTransactionsService" class="org.kuali.kfs.module.endow.batch.service.impl.CreateCashSweepTransactionsServiceImpl">
        <property name="calculateProcessDateUsingFrequencyCodeService">
            <ref bean="calculateProcessDateUsingFrequencyCodeService" />
        </property>
        <property name="businessObjectService">
            <ref bean="businessObjectService" />
        </property>
        <property name="kualiRuleService">
            <ref bean="kualiRuleService" />
        </property>
        <property name="parameterService">
            <ref bean="parameterService" />
        </property>
        <property name="documentService">
            <ref bean="documentService" />
        </property>
        <property name="kemService">
            <ref bean="kemService" />
        </property>
        <property name="kemidService">
            <ref bean="KEMIDService" />
        </property>
        <property name="createCashSweepExceptionReportWriterService">
            <ref bean="createCashSweepExceptionReportWriterService" />
        </property>
        <property name="createCashSweepProcessedReportWriterService">
            <ref bean="createCashSweepProcessedReportWriterService" />
        </property>
        <property name="configService">
            <ref bean="kualiConfigurationService" />
        </property>
    </bean>
    <bean id="createCashSweepExceptionReportWriterService" parent="reportWriterService">
        <property name="filePath" value="${reports.directory}/endow"/>
        <property name="fileNamePrefix" value="createCashSweepExceptionReport"/>
        <property name="title" value="CREATE CASH SWEEP JOB EXCEPTION REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
            <map>
                <entry key="org.kuali.kfs.module.endow.businessobject.EndowmentExceptionReportHeader" value="genericExceptionReportHeader"/>
                <entry key="org.kuali.kfs.module.endow.businessobject.TransactionDocumentExceptionReportLine" value="transactionDocumentExceptionReportLineHelper"/>
            </map>
        </property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
        <bean id="createCashSweepProcessedReportWriterService" parent="reportWriterService">
        <property name="filePath" value="${reports.directory}/endow"/>
        <property name="fileNamePrefix" value="createCashSweepProcessedReport"/>
        <property name="title" value="CREATE CASH SWEEP JOB PROCESSED REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
            <map>
                <entry key="org.kuali.kfs.module.endow.businessobject.TransactionDocumentTotalReportLine" value="transactionDocumentTotalReportLineHelper"/>
            </map>
        </property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
	<!-- End of Create Cash Sweep Transactions Job -->
    
	<!-- Create Automated Cash Investment Transactions Job -->    
    <bean id="createAutomatedCashInvestmentTransactionsJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="createAutomatedCashInvestmentTransactionsStep" />
			</list>
		</property>
        <property name="dependencies">
            <map>
                <entry key="pooledFundControlTransactionsJob" value="hardDependency" />
                <entry key="createAccrualTransactionsJob" value="hardDependency" />
                <entry key="createRecurringCashTransferTransactionsJob" value="hardDependency" />
                <entry key="processFeeTransactionsJob" value="hardDependency" />
            </map>
        </property>
	</bean>
	<bean id="createAutomatedCashInvestmentTransactionsStep" class="org.kuali.kfs.module.endow.batch.CreateAutomatedCashInvestmentTransactionsStep" parent="wrappedStep">
        <property name="wrappingBatchServices">
            <list>
                <ref bean="createAutomatedCashInvestmentExceptionReportWriterService" />
                <ref bean="createAutomatedCashInvestmentProcessedReportWriterService" />
            </list>
        </property>
		<property name="createAutomatedCashInvestmentTransactionsService">
			<ref bean="createAutomatedCashInvestmentTransactionsService" />
		</property>
	</bean>
	
	<bean id="createAutomatedCashInvestmentTransactionsService" class="org.kuali.kfs.module.endow.batch.service.impl.CreateAutomatedCashInvestmentTransactionsServiceImpl">
        <property name="calculateProcessDateUsingFrequencyCodeService">
            <ref bean="calculateProcessDateUsingFrequencyCodeService" />
        </property>
        <property name="businessObjectService">
            <ref bean="businessObjectService" />
        </property>
        <property name="kualiRuleService">
            <ref bean="kualiRuleService" />
        </property>
        <property name="configService">
            <ref bean="kualiConfigurationService" />
        </property>
        <property name="parameterService">
            <ref bean="parameterService" />
        </property>
        <property name="documentService">
            <ref bean="documentService" />
        </property>
        <property name="kemService">
            <ref bean="kemService" />
        </property>
        <property name="kemidService">
            <ref bean="KEMIDService" />
        </property>
        <property name="securityService">
            <ref bean="securityService" />
        </property>
        <property name="pooledFundControlService">
            <ref bean="pooledFundControlService" />
        </property>        
        <property name="createAutomatedCashInvestmentExceptionReportWriterService">
            <ref bean="createAutomatedCashInvestmentExceptionReportWriterService" />
        </property>
        <property name="createAutomatedCashInvestmentProcessedReportWriterService">
            <ref bean="createAutomatedCashInvestmentProcessedReportWriterService" />
        </property>
	</bean>
    <bean id="createAutomatedCashInvestmentExceptionReportWriterService" parent="reportWriterService">
        <property name="filePath" value="${reports.directory}/endow"/>
        <property name="fileNamePrefix" value="createAutomatedCashInvestmentExceptionReport"/>
        <property name="title" value="CREATE AUTOMATED CASH INVESTMENT JOB EXCEPTION REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
            <map>
                <entry key="org.kuali.kfs.module.endow.businessobject.EndowmentExceptionReportHeader" value="genericExceptionReportHeader"/>
                <entry key="org.kuali.kfs.module.endow.businessobject.TransactionDocumentExceptionReportLine" value="transactionDocumentExceptionReportLineHelper"/>
            </map>
        </property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
        <bean id="createAutomatedCashInvestmentProcessedReportWriterService" parent="reportWriterService">
        <property name="filePath" value="${reports.directory}/endow"/>
        <property name="fileNamePrefix" value="createAutomatedCashInvestmentProcessedReport"/>
        <property name="title" value="CREATE AUTOMATED CASH INVESTMENT JOB PROCESSED REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
            <map>
                <entry key="org.kuali.kfs.module.endow.businessobject.TransactionDocumentTotalReportLine" value="transactionDocumentTotalReportLineHelper"/>
            </map>
        </property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
    <!-- End Create Automated Cash Investment Transactions Job -->

	<!-- Create Recurring Cash Transfer Transactions Job -->
	<bean id="createRecurringCashTransferTransactionsJob" parent="scheduledJobDescriptor">
        <property name="steps">
            <list>
                <ref bean="createRecurringCashTransferTransactionsStep" />
            </list>
        </property>
        <property name="dependencies">
			<map>
				<entry key="createAccrualTransactionsJob" value="hardDependency" />
				<entry key="pooledFundControlTransactionsJob" value="hardDependency" />
			</map>
		</property>
    </bean>
    
    <bean id="createRecurringCashTransferTransactionsStep" class="org.kuali.kfs.module.endow.batch.CreateRecurringCashTransferTransactionsStep" parent="wrappedStep">
    	<property name="wrappingBatchServices">
			<list>
				<ref bean="recurringCashTransferTransactionsExceptionReportWriterService" />
				<ref bean="recurringCashTransferTransactionsTotalReportWriterService" />
			</list>
	    </property>
        <property name="createRecurringCashTransferTransactionsService">
            <ref bean="createRecurringCashTransferTransactionsService" />
        </property>
        <property name="batchFileDirectoryName" value="${reports.directory}/endow"/>
    </bean>
    <bean id="createRecurringCashTransferTransactionsService" class="org.kuali.kfs.module.endow.batch.service.impl.CreateRecurringCashTransferTransactionsServiceImpl">
        <property name="businessObjectService">
            <ref bean="businessObjectService" />
        </property>
        <property name="kemService">
            <ref bean="kemService" />
        </property>
        <property name="documentService">
			<ref bean="documentService" />
		</property>
		<property name="parameterService">
			<ref bean="parameterService" />
		</property>	
        <property name="kualiRuleService">
			<ref bean="kualiRuleService" />
		</property>
		<property name="configService">
			<ref bean="kualiConfigurationService" />
		</property>
		<property name="kemidCurrentCashOpenRecordsService">
			<ref bean="kemidCurrentCashOpenRecordsService" />
		</property>
		<property name="holdingTaxLotService">
			<ref bean="holdingTaxLotService" />
		</property>
		<property name="recurringCashTransferTransactionsExceptionReportWriterService">
			<ref bean="recurringCashTransferTransactionsExceptionReportWriterService" />
		</property>
		<property name="recurringCashTransferTransactionsTotalReportWriterService">
			<ref bean="recurringCashTransferTransactionsTotalReportWriterService" />
		</property>
    </bean>
    
    <bean id="recurringCashTransferTransactionsExceptionReportWriterService" parent="reportWriterService">
            <property name="filePath" value="${reports.directory}/endow"/>
            <property name="fileNamePrefix" value="recurringCashTransferExceptionReport_"/>
        <property name="title" value="CREATE RECURRING CASH TRANSFER TRANSACTIONS JOB EXCEPTION REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
            <map>
                  <entry key="org.kuali.kfs.module.endow.businessobject.RecurringCashTransferTransactionDocumentExceptionReportLine" value="recurringCashTransferTransactionDocumentExceptionReportLineHelper"/>
            </map>
            </property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
    
    <bean id="recurringCashTransferTransactionsTotalReportWriterService" parent="reportWriterService">
            <property name="filePath" value="${reports.directory}/endow"/>
            <property name="fileNamePrefix" value="accrualTransactionsTotalReport_"/>
        <property name="title" value="CREATE RECURRING CASH TRANSFER TRANSACTIONS JOB TOTALS PROCESSED REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
            <map>
                  <entry key="org.kuali.kfs.module.endow.businessobject.RecurringCashTransferTransactionDocumentTotalReportLine" value="recurringCashTransferTransactionDocumentTotalReportLineHelper"/>
            </map>
            </property>
        <property name="aggregationModeOn" value="false"/>
    </bean>
    
        <bean id="recurringCashTransferTransactionDocumentExceptionReportLineHelper" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.RecurringCashTransferTransactionDocumentExceptionReportLine" />
          <property name="orderedPropertyNameToHeaderLabelMap">
            <map>
                  <entry key="documentType" value="DOC TYPE" />
                  <entry key="sourceKemid" value="SRC KEMID"/>
                  <entry key="transferNumber" value="TRAN NUM"/>
                  <entry key="targetSeqNumber" value="TGT SEQ NUM"/>
            </map>
          </property>
          <property name="columnCount" value="4" />
      </bean>
      
    <bean id="recurringCashTransferTransactionDocumentTotalReportLineHelper" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.RecurringCashTransferTransactionDocumentTotalReportLine" />
          <property name="orderedPropertyNameToHeaderLabelMap">
            <map>
                  <entry key="documentType" value="DOC TYPE" />
                  <entry key="documentId" value="DOC ID"/>
                  <entry key="transferNumber" value="TRAN NUM"/>
                  <entry key="sourceKemid" value="SRC KEMID"/>
                  <entry key="targetLinesGenerated" value="TOT LN GEN" />
                  <entry key="totalTransferAmount" value="TOT TRAN AMT"/>
            </map>
          </property>
          <property name="columnCount" value="6" />
      </bean>
    
	<!-- processFeeTransactionsJob configuration -->	
 	<bean id="processFeeTransactionsJob" parent="scheduledJobDescriptor">
		<property name="steps">
			<list>
				<ref bean="processFeeTransactionsStep" />
			</list>
		</property>
	</bean>
	<bean id="processFeeTransactionsStep" class="org.kuali.kfs.module.endow.batch.ProcessFeeTransactionsStep" parent="wrappedStep">
		<property name="wrappingBatchServices">
			<list>
				<ref bean="processFeeTransactionsExceptionReportsWriterService" />
				<ref bean="processFeeTransactionsTotalProcessedReportsWriterService" />
				<ref bean="processFeeTransactionsWaivedAndAccruedFeesReportsWriterService" />
			</list>
		</property>
		<property name="processFeeTransactionsService">
			<ref bean="processFeeTransactionsService" />
		</property>
		<property name="batchFileDirectoryName" value="${reports.directory}/endow"/>
	</bean>	
	<bean id="processFeeTransactionsService" class="org.kuali.kfs.module.endow.batch.service.impl.ProcessFeeTransactionsServiceImpl">
		<property name="kemidFeeService">
			<ref bean="kemidFeeService" />
		</property>
		<property name="feeMethodService">
			<ref bean="feeMethodService" />
		</property>
		<property name="kemService">
			<ref bean="kemService" />
		</property>			    
		<property name="transactionArchiveService">
			<ref bean="transactionArchiveService" />
		</property>	
		<property name="transactionArchiveDao">
			<ref bean="transactionArchiveDao" />
		</property>	
		<property name="kemidFeeDao">
			<ref bean="kemidFeeDao"/>
		</property>
		<property name="holdingHistoryDao">
			<ref bean="holdingHistoryDao" />
		</property>
	    <property name="currentTaxLotBalanceDao">
			<ref bean="currentTaxLotBalanceDao" />
		</property>
		<property name="documentService">
			<ref bean="documentService" />
		</property>
		<property name="kualiRuleService">
			<ref bean="kualiRuleService" />
		</property>
		 <property name="noteService">
			<ref bean="noteService" />
		</property>	
		<property name="configService">
			<ref bean="kualiConfigurationService" />
		</property>
		
		<property name="processFeeTransactionsExceptionReportsWriterService">
			<ref bean="processFeeTransactionsExceptionReportsWriterService" />
		</property>		
		<property name="processFeeTransactionsTotalProcessedReportsWriterService">
			<ref bean="processFeeTransactionsTotalProcessedReportsWriterService" />
		</property>		
		<property name="processFeeTransactionsWaivedAndAccruedFeesReportsWriterService">
			<ref bean="processFeeTransactionsWaivedAndAccruedFeesReportsWriterService" />
		</property>		
	</bean>
	<bean id="processFeeTransactionsExceptionReportsWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="proceeFeeTransactionsUpdatesException"/>
        <property name="title" value="BATCH PROCESS FEE TRANSACTIONS UPDATE JOB EXCEPTION REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
        	<map>
        		<entry key="org.kuali.kfs.module.endow.businessobject.EndowmentExceptionReportHeader" value="processFeeTransactionsExceptionReportHeader"/>
        	</map>
       	</property>
        <property name="aggregationModeOn" value="false"/>
    </bean>	
	<bean id="processFeeTransactionsTotalProcessedReportsWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="proceeFeeTransactionsTotalProcessed"/>
        <property name="title" value="BATCH PROCESS FEE TRANSACTIONS TOTALS PROCESSED REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
        	<map>
        		<entry key="org.kuali.kfs.module.endow.businessobject.FeeProcessingTotalsProcessedReportHeader" value="processFeeTransactionsTotalProcessedReportHeader"/>
				<entry key="org.kuali.kfs.module.endow.businessobject.FeeProcessingTotalsProcessedDetailTotalLine" value="feeProcessingTotalsProcessedDetailTotalLine"/>
				<entry key="org.kuali.kfs.module.endow.businessobject.FeeProcessingTotalsProcessedSubTotalLine" value="feeProcessingTotalsProcessedSubTotalLine"/>
				<entry key="org.kuali.kfs.module.endow.businessobject.FeeProcessingTotalsProcessedGrandTotalLine" value="feeProcessingTotalsProcessedGrandTotalLine"/>
        	</map>
       	</property>
        <property name="aggregationModeOn" value="false"/>
    </bean>    
	<bean id="processFeeTransactionsWaivedAndAccruedFeesReportsWriterService" parent="reportWriterService">
		<property name="filePath" value="${reports.directory}/endow"/>
		<property name="fileNamePrefix" value="proceeFeeTransactionsWaivedAndAccruedProcessed"/>
        <property name="title" value="BATCH PROCESS FEE WAIVED AND ACCRUED FEES REPORT"/>
        <property name="classToBusinessObjectReportHelperBeanNames">
        	<map>
        		<entry key="org.kuali.kfs.module.endow.businessobject.FeeProcessingWaivedAndAccruedReportHeader" value="processFeeTransactionsWaivedAndAccruedFeesReportHeader"/>
				<entry key="org.kuali.kfs.module.endow.businessobject.FeeProcessingWaivedAndAccruedDetailTotalLine" value="feeProcessingWaivedAndAccruedDetailTotalLine"/>
				<entry key="org.kuali.kfs.module.endow.businessobject.FeeProcessingWaivedAndAccruedSubTotalLine" value="feeProcessingWaivedAndAccruedSubTotalLine"/>
				<entry key="org.kuali.kfs.module.endow.businessobject.FeeProcessingWaivedAndAccruedGrandTotalLine" value="feeProcessingWaivedAndAccruedGrandTotalLine"/>
        	</map>
       	</property>
        <property name="aggregationModeOn" value="false"/>
    </bean>    
    <!-- updateCorpusJob configuration -->
    <bean id="updateCorpusJob" parent="scheduledJobDescriptor">
        <property name="steps">
            <list>
                <ref bean="updateCorpusStep" />
            </list>
        </property>
    </bean>

    <bean id="updateCorpusStep" class="org.kuali.kfs.module.endow.batch.UpdateCorpusStep" parent="step">
        <property name="updateCorpusService">
            <ref bean="updateCorpusService" />
        </property>
    </bean>

	<bean id="updateCorpusDao" parent="platformAwareDaoJdbc" class="org.kuali.kfs.module.endow.dataaccess.impl.UpdateCorpusDaoJdbc" />

    <bean id="updateCorpusService" class="org.kuali.kfs.module.endow.batch.service.impl.UpdateCorpusServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
		<property name="kemService">
			<ref bean="kemService" />
		</property>			    
		<property name="parameterService">
			<ref bean="parameterService" />
		</property>
		<property name="universityDateService">
			<ref bean="universityDateService" />
		</property>		
		<property name="updateCorpusDao">
			<ref bean="updateCorpusDao" />
		</property>				
    </bean>	
    
 	<!--  end core batch jobs --> 
    
    <bean id="endowmentTransactionCodeService" class="org.kuali.kfs.module.endow.document.service.impl.EndowmentTransactionCodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
	<bean id="KEMIDService" class="org.kuali.kfs.module.endow.document.service.impl.KEMIDServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
	<bean id="pooledFundControlService" class="org.kuali.kfs.module.endow.document.service.impl.PooledFundControlServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
	<bean id="pooledFundValueService" class="org.kuali.kfs.module.endow.document.service.impl.PooledFundValueServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>		
		<property name="pooledFundValueDao">
			<ref bean="pooledFundValueDao" />
		</property>		
	</bean>
	
    <bean id="pooledFundValueDao" parent="platformAwareDao" class="org.kuali.kfs.module.endow.dataaccess.impl.PooledFundValueDaoOjb">
		<property name="kemService">
			<ref bean="kemService"/>
		</property>	
	</bean>
	
	<bean id="RegistrationCodeService" class="org.kuali.kfs.module.endow.document.service.impl.RegistrationCodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
    <bean id="frequencyCodeService" class="org.kuali.kfs.module.endow.document.service.impl.FrequencyCodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
    <bean id="feeMethodService" class="org.kuali.kfs.module.endow.document.service.impl.FeeMethodServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>		
		<property name="dateTimeService">
			<ref bean="dateTimeService" />
		</property>			
	</bean>

    <bean id="feeTypeService" class="org.kuali.kfs.module.endow.document.service.impl.FeeTypeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>

    <bean id="cashSweepModelService" class="org.kuali.kfs.module.endow.document.service.impl.CashSweepModelServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
    <bean id="automatedCashInvestmentModelService" class="org.kuali.kfs.module.endow.document.service.impl.AutomatedCashInvestmentModelServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>

	<bean id="feeRateDefinitionCodeService" class="org.kuali.kfs.module.endow.document.service.impl.FeeRateDefinitionCodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>

	<bean id="transactionTypeService" class="org.kuali.kfs.module.endow.document.service.impl.TransactionTypeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
	<bean id="classCodeService" class="org.kuali.kfs.module.endow.document.service.impl.ClassCodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>

	<bean id="subClassCodeService" class="org.kuali.kfs.module.endow.document.service.impl.SubClassCodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
    <bean id="frequencyCodeLookupableHelperService" class="org.kuali.kfs.module.endow.businessobject.lookup.FrequencyCodeLookupableHelperService"  parent="lookupableHelperService" scope="prototype">
	</bean>
	
	<bean id="frequencyCodeLookupable" class="org.kuali.rice.kns.lookup.KualiLookupableImpl" scope="prototype">
		<property name="lookupableHelperService">
			<ref bean="frequencyCodeLookupableHelperService" />
		</property>
	</bean>	
	
	<bean id="pooledFundValueLookupableHelperService" class="org.kuali.kfs.module.endow.businessobject.lookup.PooledFundValueLookupableHelperService"  parent="lookupableHelperService" scope="prototype">
	</bean>
	
	<bean id="pooledFundValueLookupable" class="org.kuali.rice.kns.lookup.KualiLookupableImpl" scope="prototype">
		<property name="lookupableHelperService">
			<ref bean="pooledFundValueLookupableHelperService" />
		</property>
	</bean>	
	
	<bean id="feeTypeCodeLookupableHelperService" class="org.kuali.kfs.module.endow.businessobject.lookup.FeeTypeCodeLookupableHelperService"  parent="lookupableHelperService" scope="prototype" />
	
	<bean id="feeTypeCodeLookupable" class="org.kuali.rice.kns.lookup.KualiLookupableImpl" scope="prototype">
		<property name="lookupableHelperService">
			<ref bean="feeTypeCodeLookupableHelperService" />
		</property>
	</bean>	
	
	<bean id="securityService" class="org.kuali.kfs.module.endow.document.service.impl.SecurityServiceImpl">		
	    <property name="kemService">
			<ref bean="kemService" />
		</property>	
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>	
		<property name="securityDao">
			<ref bean="securityDao" />
		</property>
	</bean>
	
	<bean id="kemService" class="org.kuali.kfs.module.endow.document.service.impl.KEMServiceImpl">
		<property name="dateTimeService">
			<ref bean="dateTimeService" />
		</property>	
		<property name="parameterService">
			<ref bean="parameterService" />
		</property>	
		<property name="currentTaxLotService">
			<ref bean="currentTaxLotService" />
		</property>		
	</bean>
		
	<bean id="holdingTaxLotLookupableHelperService" class="org.kuali.kfs.module.endow.businessobject.lookup.HoldingTaxLotLookupableHelperService"  parent="lookupableHelperService" scope="prototype">
	</bean>

	<bean id="holdingTaxLotLookupable" class="org.kuali.rice.kns.lookup.KualiLookupableImpl" scope="prototype">
		<property name="lookupableHelperService">
			<ref bean="holdingTaxLotLookupableHelperService" />
		</property>
	</bean>
    <bean id="currentTaxLotBalanceLookupableHelperService" class="org.kuali.kfs.module.endow.businessobject.lookup.CurrentTaxLotBalanceLookupableHelperService"  parent="lookupableHelperService" scope="prototype">
	</bean>
	
	<bean id="currentTaxLotBalanceLookupable" class="org.kuali.rice.kns.lookup.KualiLookupableImpl" scope="prototype">
		<property name="lookupableHelperService">
			<ref bean="currentTaxLotBalanceLookupableHelperService" />
		</property>
	</bean>	

    <bean id="holdingTaxLotRebalanceLookupableHelperService" class="org.kuali.kfs.module.endow.businessobject.lookup.HoldingTaxLotRebalanceLookupableHelperService"  parent="lookupableHelperService" scope="prototype">
    </bean>
    
    <bean id="holdingTaxLotRebalanceLookupable" class="org.kuali.rice.kns.lookup.KualiLookupableImpl" scope="prototype">
        <property name="lookupableHelperService">
            <ref bean="holdingTaxLotRebalanceLookupableHelperService" />
        </property>
    </bean>
    
	<bean id="calculateProcessDateUsingFrequencyCodeService" class="org.kuali.kfs.module.endow.businessobject.lookup.CalculateProcessDateUsingFrequencyCodeService" scope="prototype">
		<property name="dateTimeService" ref="dateTimeService"/>
		<property name="kemService" ref="kemService"/>
	</bean>	
	
	<bean id="typeCodeService" class="org.kuali.kfs.module.endow.document.service.impl.TypeCodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
	<bean id="purposeCodeService" class="org.kuali.kfs.module.endow.document.service.impl.PurposeCodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>

	<bean id="agreementTypeService" class="org.kuali.kfs.module.endow.document.service.impl.AgreementTypeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>

	<bean id="agreementStatusService" class="org.kuali.kfs.module.endow.document.service.impl.AgreementStatusServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
			
	<bean id="fundSourceService" class="org.kuali.kfs.module.endow.document.service.impl.FundSourceServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
	<bean id="transactionRestrictionCodeService" class="org.kuali.kfs.module.endow.document.service.impl.TransactionRestrictionCodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
	<bean id="caeCodeService" class="org.kuali.kfs.module.endow.document.service.impl.CAECodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
	<bean id="responsibleAdministrationCodeService" class="org.kuali.kfs.module.endow.document.service.impl.ResponsibleAdministrationCodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
	<bean id="kemidCurrentCashOpenRecordsService" class="org.kuali.kfs.module.endow.document.service.impl.KemidCurrentCashOpenRecordsServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
    <bean id="ticklerService" class="org.kuali.kfs.module.endow.document.service.impl.TicklerServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
    <bean id="kemidHoldingTaxLotOpenRecordsService" class="org.kuali.kfs.module.endow.document.service.impl.KemidHoldingTaxLotOpenRecordsServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	<bean id="validateDateBasedOnFrequencyCodeService" class="org.kuali.kfs.module.endow.document.service.impl.ValidateDateBasedOnFrequencyCodeServiceImpl" scope="prototype">
	</bean>	
	
	<bean id="ticklerLookupableHelperService" class="org.kuali.kfs.module.endow.businessobject.lookup.TicklerLookupableHelperServiceImpl" scope="prototype" parent="lookupableHelperService" >
	</bean>

	<bean id="ticklerLookupable" class="org.kuali.rice.kns.lookup.KualiLookupableImpl" scope="prototype">
		<property name="lookupableHelperService">
			<ref bean="ticklerLookupableHelperService" />
		</property>
	</bean>
	
	<bean id="combineGroupCodeService" class="org.kuali.kfs.module.endow.document.service.impl.CombineGroupCodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
    <bean id="donorStatementCodeService" class="org.kuali.kfs.module.endow.document.service.impl.DonorStatementCodeServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
    <bean id="donorService" class="org.kuali.kfs.module.endow.document.service.impl.DonorServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>	
	
	<bean id="donorLabelService" class="org.kuali.kfs.module.endow.document.service.impl.DonorLabelServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>	
	
	<bean id="endowmentTransactionDocumentService" class="org.kuali.kfs.module.endow.document.service.impl.EndowmentTransactionDocumentServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
		<property name="kemidService">
			<ref bean="KEMIDService" />
		</property>		
		<property name="endowmentTransactionCodeService">
			<ref bean="endowmentTransactionCodeService" />
		</property>			
	</bean>
	
	<bean id="endowmentTransactionLinesDocumentService" class="org.kuali.kfs.module.endow.document.service.impl.EndowmentTransactionLinesDocumentServiceImpl">
		<property name="kemidService">
			<ref bean="KEMIDService" />
		</property>		
		<property name="endowmentTransactionCodeService">
			<ref bean="endowmentTransactionCodeService" />
		</property>	
	
	</bean>
	
	<bean id="holdingTaxLotDao" parent="platformAwareDao" class="org.kuali.kfs.module.endow.dataaccess.impl.HoldingTaxLotDaoOjb" />
	
	<bean id="holdingTaxLotService" class="org.kuali.kfs.module.endow.document.service.impl.HoldingTaxLotServiceImpl">
	    <property name="holdingTaxLotDao">
			<ref bean="holdingTaxLotDao" />
		</property>
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
		<property name="securityService">
			<ref bean="securityService"/>
		</property>
		<property name="classCodeService">
			<ref bean="classCodeService"/> 
		</property>	
		<property name="kEMService">
			<ref bean="kemService"/>
		</property>	
	</bean>
	
	<bean id="updateAssetIncreaseDocumentTaxLotsService" class="org.kuali.kfs.module.endow.document.service.impl.UpdateAssetIncreaseDocumentTaxLotsServiceImpl">
		<property name="taxLotService">
			<ref bean="holdingTaxLotService" />
		</property>	
		<property name="securityService">
			<ref bean="securityService" />
		</property>	
		<property name="kemService">
			<ref bean="kemService" />
		</property>	
	</bean>
	
	<bean id="updateSecurityTransferTargetTaxLotsService" class="org.kuali.kfs.module.endow.document.service.impl.UpdateSecurityTransferTargetTaxLotsServiceImpl">
		<property name="taxLotService">
			<ref bean="holdingTaxLotService" />
		</property>	
		<property name="securityService">
			<ref bean="securityService" />
		</property>	
		<property name="kemService">
			<ref bean="kemService" />
		</property>	
	</bean>

	<bean id="liabilityDocumentService" class="org.kuali.kfs.module.endow.document.service.impl.LiabilityDocumentServiceImpl">
		<property name="taxLotService">
			<ref bean="holdingTaxLotService" />
		</property>	
		<property name="securityService">
			<ref bean="securityService" />
		</property>	
		<property name="kemService">
			<ref bean="kemService" />
		</property>	
	</bean>
	
	<bean id="updateTaxLotsBasedOnAccMethodAndTransSubtypeService" class="org.kuali.kfs.module.endow.document.service.impl.UpdateTaxLotsBasedOnAccMethodAndTransSubtypeServiceImpl">
		<property name="taxLotService">
			<ref bean="holdingTaxLotService" />
		</property>	
		<property name="securityService">
			<ref bean="securityService" />
		</property>	
		<property name="kemService">
			<ref bean="kemService" />
		</property>	
		<property name="parameterService">
			<ref bean="parameterService" />
		</property>	
	</bean>
	
	<bean id="securityValuationMethodService" class="org.kuali.kfs.module.endow.document.service.impl.SecurityValuationMethodServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>				
	</bean>
	
	<bean id="holdingHistoryService" class="org.kuali.kfs.module.endow.document.service.impl.HoldingHistoryServiceImpl">		
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>	
	</bean>
	
	<bean id="updateUnitShareAdjustmentDocumentService" class="org.kuali.kfs.module.endow.document.service.impl.UpdateUnitShareAdjustmentDocumentTaxLotsServiceImpl">
		<property name="taxLotService">
			<ref bean="holdingTaxLotService" />
		</property>	
		<property name="securityService">
			<ref bean="securityService" />
		</property>	
	</bean>
	
	<bean id="updateHoldingAdjustmentDocumentService" class="org.kuali.kfs.module.endow.document.service.impl.UpdateHoldingAdjustmentDocumentTaxLotsServiceImpl">
		<property name="taxLotService">
			<ref bean="holdingTaxLotService" />
		</property>	
		<property name="securityService">
			<ref bean="securityService" />
		</property>	
	</bean>
    
    <bean id="transactionArchiveLookupableHelperService" class="org.kuali.kfs.module.endow.businessobject.lookup.TransactionArchiveLookupableHelperService"  parent="lookupableHelperService" scope="prototype" />
    <bean id="transactionArchiveLookupable" class="org.kuali.rice.kns.lookup.KualiLookupableImpl" scope="prototype">
        <property name="lookupableHelperService">
            <ref bean="transactionArchiveLookupableHelperService" />
        </property>
    </bean>
    
    <bean id="currentTaxLotBalanceDao" parent="platformAwareDao" class="org.kuali.kfs.module.endow.dataaccess.impl.CurrentTaxLotBalanceDaoOjb">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>	
		<property name="securityDao">
			<ref bean="securityDao" />
		</property>	
	</bean>
	
	<bean id="monthEndDateService" class="org.kuali.kfs.module.endow.document.service.impl.MonthEndDateServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>	
	</bean>
	<bean id="holdingHistoryValueAdjustmentDocumentService" class="org.kuali.kfs.module.endow.document.service.impl.HoldingHistoryValueAdjustmentDocumentServiceImpl">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>	
	</bean>
	<bean id="holdingHistoryMarketValueExceptionReportHeader" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.EndowmentExceptionReportHeader" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="columnHeading1" value="Document Type"/>
    			<entry key="columnHeading2" value="Security Id"/>
    			<entry key="columnHeading3" value="KEMID"/>
    			<entry key="columnHeading4" value="Registration Code"/>
    			<entry key="columnHeading5" value="Month End Date Id"/>
    			<entry key="columnHeading6" value="IP Indicator"/>
    			<entry key="columnHeading7" value="Tax Lot Number"/>
    		</map>
	    </property>
	    <property name="columnCount" value="7" />
	</bean>
	<bean id="processFeeTransactionsExceptionReportHeader" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.EndowmentExceptionReportHeader" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="columnHeading1" value="Fee Method"/>
    			<entry key="columnHeading2" value="KEMID"/>
    			<entry key="columnHeading3" value="Fee Amount"/>
    		</map>
	    </property>
	    <property name="columnCount" value="3" />
	</bean>
	
	<bean id="processFeeTransactionsWaivedAndAccruedFeesReportHeader" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.FeeProcessingWaivedAndAccruedReportHeader" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="columnHeading1" value="Fee Method"/>
    			<entry key="columnHeading2" value="KEMID"/>
    			<entry key="columnHeading3" value="Accrued Fee Amount"/>
    			<entry key="columnHeading4" value="Waived Fee Amount"/>
    		</map>
	    </property>
	    <property name="columnCount" value="4" />
	</bean>
	<bean id="feeProcessingWaivedAndAccruedDetailTotalLine" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.FeeProcessingWaivedAndAccruedDetailTotalLine" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="total" value=" "/>
    			<entry key="kemid" value=" "/>
    			<entry key="totalWaivedFees" value=" "/>
    			<entry key="totalAccruedFees" value=" "/>
    		</map>
	    </property>
	    <property name="columnCount" value="4" />
	</bean>
	<bean id="feeProcessingWaivedAndAccruedSubTotalLine" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.FeeProcessingWaivedAndAccruedSubTotalLine" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="total" value=" "/>
    			<entry key="kemid" value=" "/>
    			<entry key="totalWaivedFees" value=" "/>
    			<entry key="totalAccruedFees" value=" "/>
    		</map>
	    </property>
	    <property name="columnCount" value="4" />
	</bean>
	<bean id="feeProcessingWaivedAndAccruedGrandTotalLine" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.FeeProcessingWaivedAndAccruedGrandTotalLine" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="total" value=" "/>
    			<entry key="kemid" value=" "/>
    			<entry key="totalWaivedFees" value=" "/>
    			<entry key="totalAccruedFees" value=" "/>
    		</map>
	    </property>
	    <property name="columnCount" value="4" />
	</bean>
	
	<bean id="processFeeTransactionsTotalProcessedReportHeader" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.FeeProcessingTotalsProcessedReportHeader" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="columnHeading1" value="Fee Method"/>
    			<entry key="columnHeading2" value="eDoc Number"/>
    			<entry key="columnHeading3" value="Lines Generated"/>
    			<entry key="columnHeading4" value="Total Income Amount"/>
    			<entry key="columnHeading5" value="Total Principal Amount"/>
    		</map>
	    </property>
	    <property name="columnCount" value="5" />
	</bean>
	<bean id="feeProcessingTotalsProcessedDetailTotalLine" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.FeeProcessingTotalsProcessedDetailTotalLine" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="feeMethodCode" value=" "/>
    			<entry key="eDocNumber" value=" "/>
    			<entry key="linesGenerated" value=" "/>
    			<entry key="totalIncomeAmount" value=" "/>
    			<entry key="totalPrincipalAmount" value=" "/>
    		</map>
	    </property>
	    <property name="columnCount" value="5" />
	</bean>
	<bean id="feeProcessingTotalsProcessedSubTotalLine" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.FeeProcessingTotalsProcessedSubTotalLine" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="feeMethodCode" value="Sub Totals By Fee Method"/>
    			<entry key="eDocNumber" value=" "/>
    			<entry key="linesGenerated" value=" "/>
    			<entry key="totalIncomeAmount" value=" "/>
    			<entry key="totalPrincipalAmount" value=" "/>
    		</map>
	    </property>
	    <property name="columnCount" value="5" />
	</bean>
	<bean id="feeProcessingTotalsProcessedGrandTotalLine" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.FeeProcessingTotalsProcessedGrandTotalLine" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="feeMethodCode" value="Grand Totals"/>
    			<entry key="eDocNumber" value=" "/>
    			<entry key="linesGenerated" value=" "/>
    			<entry key="totalIncomeAmount" value=" "/>
    			<entry key="totalPrincipalAmount" value=" "/>
    		</map>
	    </property>
	    <property name="columnCount" value="5" />
	</bean>
	
	<bean id="gainLossDistributionExceptionReportHeader" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.TransactionDocumentExceptionReportLine" />
	    <property name="orderedPropertyNameToHeaderLabelMap">
    		<map>
    			<entry key="documentType" value="Document Type"/>
    			<entry key="securityId" value="Security ID"/>
    			<entry key="kemid" value="KEMID"/>
    		</map>
	    </property>
	    <property name="columnCount" value="3" />
	</bean>
	<bean id="createCashSweepExceptionReportHeader" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.EndowmentExceptionReportHeader" />
        <property name="orderedPropertyNameToHeaderLabelMap">
            <map>
                <entry key="columnHeading1" value="Document Type"/>
                <entry key="columnHeading2" value="Security Id"/>
                <entry key="columnHeading3" value="KEMID"/>
                <entry key="columnHeading4" value="Income Amount"/>
                <entry key="columnHeading5" value="Income Units"/>
                <entry key="columnHeading6" value="Principle Amount"/>
                <entry key="columnHeading7" value="Principle Units"/>
            </map>
        </property>
        <property name="columnCount" value="7" />
    </bean>
    <bean id="createCashSweepProcessedReportHeader" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.EndowmentProcessedReportHeader" />
        <property name="orderedPropertyNameToHeaderLabelMap">
            <map>
                <entry key="columnHeading1" value="Document Type"/>
                <entry key="columnHeading2" value="eDoc Number"/>
                <entry key="columnHeading3" value="Security Id"/>
                <entry key="columnHeading4" value="KEMID"/>
                <entry key="columnHeading5" value="Income Amount"/>
                <entry key="columnHeading6" value="Income Units"/>
                <entry key="columnHeading7" value="Principle Amount"/>
                <entry key="columnHeading8" value="Principle Units"/>
            </map>
        </property>
        <property name="columnCount" value="8" />
    </bean>
    <bean id="eDocPostingExceptionReportHeader" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.TransactioneDocPostingDocumentExceptionReportLine" />
        <property name="orderedPropertyNameToHeaderLabelMap">
            <map>
                <entry key="documentNumber" value="Document Name"/>
                <entry key="documentName" value="eDoc Number"/>
                <entry key="lineType" value="Line Type"/>
                <entry key="lineNumber" value="Line Number"/>
                <entry key="reason" value="Reason"/>
            </map>
        </property>
        <property name="columnCount" value="5" />
    </bean>
        <bean id="eDocPostingProcessedReportHeader" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.TransactioneDocPostingDocumentTotalReportLine" />
        <property name="orderedPropertyNameToHeaderLabelMap">
            <map>
                <entry key="documentNumber" value="Document Name"/>
                <entry key="documentName" value="eDoc Number"/>
                <entry key="totalIncomeCash" value="Total Income Cash"/>
                <entry key="totalPrincipleCash" value="Total Principle Cash"/>
                <entry key="totalUnits" value="Total Units"/>
                <entry key="totalHoldingCost" value="Total Holding Cost"/>
            </map>
        </property>
        <property name="columnCount" value="6" />
    </bean>
    <bean id="accrualTransactionsExceptionReportHeader" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.EndowmentProcessedReportHeader" />
        <property name="orderedPropertyNameToHeaderLabelMap">
            <map>
                <entry key="columnHeading1" value="Document Type"/>
                <entry key="columnHeading2" value="Security Id"/>
                <entry key="columnHeading3" value="KEMID"/>
                <entry key="columnHeading4" value="Transaction Amount"/>
            </map>
        </property>
        <property name="columnCount" value="4" />
    </bean>
    <bean id="genericExceptionReportHeader" parent="businessObjectReportHelper">
        <property name="dataDictionaryBusinessObjectClass" value="org.kuali.kfs.module.endow.businessobject.EndowmentProcessedReportHeader" />
        <property name="orderedPropertyNameToHeaderLabelMap">
            <map>
                <entry key="columnHeading1" value=""/>
                <entry key="columnHeading2" value=""/>
                <entry key="columnHeading3" value=""/>
                <entry key="columnHeading4" value=""/>
            </map>
        </property>
        <property name="columnCount" value="4" />
    </bean>
	<bean id="kemidFeeService" class="org.kuali.kfs.module.endow.batch.service.impl.KemidFeeServiceImpl">		
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
		<property name="kemService">
			<ref bean="kemService" />
		</property>
    	<property name="parameterService">
    	 	<ref bean="parameterService" />
		</property>
		<property name="kemidCorpusValueService">
			<ref bean="kemidCorpusValueService"/>
		</property>
	</bean>
	<bean id="kemidCorpusValueService" class="org.kuali.kfs.module.endow.batch.service.impl.KemidCorpusValuesServiceImpl">		
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
		<property name="kemService">
			<ref bean="kemService" />
		</property>
	</bean>

	<bean id="transactionArchiveService" class="org.kuali.kfs.module.endow.document.service.impl.TransactionArchiveServiceImpl">		
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
	</bean>
	<bean id="transactionArchiveDao" parent="platformAwareDao" class="org.kuali.kfs.module.endow.dataaccess.impl.TransactionArchiveDaoOjb">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
	</bean>
	<bean id="holdingHistoryDao" parent="platformAwareDao" class="org.kuali.kfs.module.endow.dataaccess.impl.HoldingHistoryDaoOjb">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
		<property name="monthEndDateService">
			<ref bean="monthEndDateService" />
		</property>	
		<property name="securityDao">
			<ref bean="securityDao" />
		</property>		
	</bean>
	<bean id="kemidFeeDao" parent="platformAwareDaoJdbc" class="org.kuali.kfs.module.endow.dataaccess.impl.KemidFeeDaoJdbc">
		<property name="businessObjectService">
			<ref bean="businessObjectService" />
		</property>
		<property name="kemService">
			<ref bean="kemService" />
		</property>
    	<property name="parameterService">
    	 	<ref bean="parameterService" />
		</property>
	</bean>
</beans>